<div class="main">
  <div class="container">
    <div class="banner">
      <h1>BagView</h1>
      <p>HISTÓRICO DE COMPRAS</p>
    </div>

    <table class="table">
      <thead>
        <tr>
          <th>Data do Aluguel</th>
          <th>Data de Finalização</th>
          <th>Condição</th>
          <th>Ação</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let registro of historicoCompras">
          <!-- Exibindo a data de retirada, formatada se houver, ou N/A -->
          <td>{{ registro.retirada ? (registro.retirada | date: 'dd/MM/yyyy') : 'N/A' }}</td>
          
          <!-- Exibindo a data de devolução, formatada se houver, ou N/A -->
          <td>{{ registro.devolucao ? (registro.devolucao | date: 'dd/MM/yyyy') : 'N/A' }}</td>
          
          <!-- Exibindo a condição, ou N/A se não houver valor -->
          <td>{{ getCondicaoDescricao(registro.condicaoId) }}</td>

          <td>
            <!-- Botão 'Ativar tags' -->
            <button *ngIf="registro.condicaoId === '673d46d835c68f866f8cdbeb'" (click)="onAcaoClick(registro)">Ativar tags</button>
            
            <!-- Botão 'Encerrar Aluguel' -->
            <button *ngIf="registro.condicaoId === '673d46d835c68f866f8cdbec'" (click)="onAcaoClick(registro)">Encerrar Aluguel</button>
            
            <!-- Nenhum botão se a condição for '673d46d835c68f866f8cdbed' -->
            <p *ngIf="registro.condicaoId === '673d46d835c68f866f8cdbed'" class="sem-acao-texto"></p>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>